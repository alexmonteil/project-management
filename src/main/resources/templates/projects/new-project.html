<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head th:include="layouts :: headContent">
        <title id="pageTitle">New Project</title>
    </head>
    <body class="d-flex flex-column vh-100">
        <nav th:replace="layouts :: navbarContent"></nav>
        <div class="container my-3">
            <form th:action="@{/projects/create}" method="POST" th:object="${project}">
                <div class="input-group row mb-2 g-0">
                    <label  class="form-label" for="pname">Project Name:</label>
                    <input  class="form-control" id="pname" type="text" placeholder="Project Name" th:field="${project.name}" required minlength="2" maxlength="100"/>
                    <span  class="text-red" th:if="${#fields.hasErrors('name')}" th:errors="${project.name}"></span>
                </div>
                <div class="input-group row mb-2 g-0">
                    <label class="form-label" for="pstage">Project Stage:</label>
                    <select  class="form-select" id="pstage" th:field="${project.stage}" required>
                        <option th:value="NOTSTARTED"> Not Started</option>
                        <option th:value="INPROGRESS"> In Progress</option>
                        <option th:value="COMPLETED"> Completed</option>
                    </select>
                    <span  class="text-red" th:if="${#fields.hasErrors('stage')}" th:errors="${project.stage}"></span>
                </div>
                <div class="input-group row mb-2 g-0">
                    <label class="form-label" for="pdescription">Project Description:</label>
                    <textarea id="pdescription" type="text" placeholder="Enter Project Description" th:field="${project.description}" required minlength="2" maxlength="255"></textarea>
                    <span  class="text-red" th:if="${#fields.hasErrors('description')}" th:errors="${project.description}"></span>
                </div>
                <div class="input-group row mb-2 g-0">
                    <label class="form-label" for="employees">Employees:</label>
                    <div th:each="employee : ${employeesList}">
                        <input type="checkbox" th:text="${employee.firstName}" th:value="${employee.employeeId}" class="m-2" id="employees" th:field="${project.employees}" />
                    </div>
                    <span  class="text-red" th:if="${#fields.hasErrors('employees')}" th:errors="${project.employees}"></span>
                </div>
                <div class="input-group row mb-2 g-0">
                    <label for="dp3">Project Start Date:</label>
                    <input id="dp3" type="date" class="mb-4 col-2 col-xs-4" th:field="${project.startDate}" required>
                    <span  class="text-red" th:if="${#fields.hasErrors('startDate')}" th:errors="${project.startDate}"></span>
                </div>
                <div class="input-group row mb-2 g-0">
                    <label for="dp4">Project End Date:</label>
                    <input id="dp4" type="date" class="mb-4 col-2 col-xs-4" th:field="${project.endDate}" required>
                    <span  class="text-red" th:if="${#fields.hasErrors('endDate')}" th:errors="${project.endDate}"></span>
                </div>
                <input class="btn btn-primary btn-small" type="Submit" value="Create Project" />
            </form>
        </div>
        <footer th:replace="layouts :: footerContent"></footer>
        <script th:replace="layouts :: bootstrapJS"></script>
        <script th:replace="layouts :: footerJS"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
    </body>
</html>